<% layout("/layouts/boilerPlate") %>
<style>
    .container {
        max-width: 800px;
        margin: auto;
        padding: 20px;
    }
    h3 {
        text-align: center;
        font-size: 2rem;
        margin-bottom: 20px;
    }
    .form-control {
        font-size: 1rem;
        padding: 10px;
    }
    @media (max-width: 768px) {
        h3 {
            font-size: 1.75rem;
        }
        .container {
            padding: 15px;
        }
    }
    @media (max-width: 480px) {
        h3 {
            font-size: 1.5rem;
        }
        .form-control {
            font-size: 0.9rem;
            padding: 8px;
        }
    }
</style>
<body>
    <div class="container mt-4">
        <h3>Edit Your Blog</h3>
        <form action="/listings/<%= listing._id %>?_method=PUT" method="post" class="needs-validation" novalidate>
            <div class="mb-3">
                <label for="title">Title</label>
                <input class="form-control" type="text" name="listing[title]" value="<%= listing.title %>" required>
                <div class="invalid-feedback">Enter your title name</div>
            </div>
            <div class="mb-3">
                <label for="description">Description</label>
                <textarea required class="form-control" name="listing[description]" id=""><%= listing.description %></textarea>
                <div class="invalid-feedback">Enter your description</div>
            </div>
            <div class="mb-3">
                <label for="image">Image Link</label>
                <input required class="form-control" name="listing[image]" placeholder="Enter image URL" value="<%= listing.image %>">
                <div class="invalid-feedback">Enter your blog's image</div>
            </div>
            <div class="mb-3">
                <label for="country">Country</label>
                <input required type="text" class="form-control" name="listing[country]" value="<%= listing.country %>" placeholder="Enter country">
                <div class="invalid-feedback">Enter your country name</div>
            </div>
            <div class="mb-3">
                <label for="location">Location</label>
                <input required class="form-control" type="text" name="listing[location]" value="<%= listing.location %>">
                <div class="invalid-feedback">Enter your location</div>
            </div>
            <button class="btn btn-dark w-100">Update Blog</button>
        </form>
    </div>
    <script>
        (function() {
            'use strict';
            window.addEventListener('load', function() {
                var forms = document.getElementsByClassName('needs-validation');
                Array.prototype.filter.call(forms, function(form) {
                    form.addEventListener('submit', function(event) {
                        if (form.checkValidity() === false) {
                            event.preventDefault();
                            event.stopPropagation();
                        }
                        form.classList.add('was-validated');
                    }, false);
                });
            }, false);
        })();
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
